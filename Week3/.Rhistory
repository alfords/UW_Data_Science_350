install.packages("plyr")
install.packages("ggplot2")
g = rnorm(10,5)
plot(g)
pwd()
getwd()
install.packages("UsingR")
ls -l
exit()
install.packages(c("boot", "class", "cluster", "codetools", "colorspace", "evaluate", "foreign", "formatR", "Formula", "ggplot2", "highr", "Hmisc", "jsonlite", "KernSmooth", "knitr", "lattice", "manipulate", "markdown", "MASS", "Matrix", "mgcv", "mime", "nlme", "nnet", "plyr", "Rcpp", "RCurl", "rpart", "spatial", "stringr", "survival"))
library(data.table)
library(logging)
library(RSQLite)
install.packages("data.table", "logging", "RSQLite")
install.packages("data.table")
install.packages('logging')
install.packages(RSQLite)
install.packages("RSQLite")
library(data.table)
library(logging)
library(RSQLite)
list.dirs
A_matrix = matrix(4, nrow=4, ncol=3) # Makes use of broadcasting
View(A_matrix)
B_matrix = matrix(1:50, nrow=4, ncol=3)
View(B_matrix)
A_matrix + B_matrix
A_matrix * B_matrix
A_matrix %*% B_matrix
A_matrix %*% t(B_matrix)
x_values = seq(from=as.Date('2015-01-01'),
to=as.Date('2015-02-12'),
by = 3)
df = data.frame('dates' = x_values,
'x1'    = runif(15,-10,20),
'x2'    = 1:15,
'x3'    = strsplit('MississippiMath','')[[1]])
View(df)
df$x3 = as.character(df$x3)
df$x3 = tolower(df$x3)
View(df)
str(df)
head(df)
tail(df, n=10)
df = as.data.table(df)
View(df)
df[,sum(x1)]
df[,c(sum(x1),sd(x2))]
?logging
x_values
install.packages("XML")
nfl_site = "http://www.usatoday.com/sports/nfl/arrests/"
nfl_html = readHTMLTable(nfl_site)
nfl_site = "http://www.usatoday.com/sports/nfl/arrests/"
library(XML)
nfl_html = readHTMLTable(nfl_site)
nfl_html = readHTMLTable(nfl_site)
nfl_html
nfl_data = nfl_html[[1]]
nfl_html
db_file = 'test_db.db'
conn = dbConnect(dbDriver("SQLite"), dbname=db_file)
dbWriteTable(conn, 'table_name', medals_data, overwrite=TRUE)
medals_data <- read.table("medals.txt", sep="\t", header=TRUE)
p = 0.75
n = 1000
?rbinom
bern_samples = rbinom(n, 1, p)
bern_sample_mean = sum(bern_samples)/length(bern_samples)
bern_sample_var = bern_sample_mean * (1-bern_sample_mean)
##--------------------------------------------
##
## Exploring Data in R (lecture 1)
##
## Class: PCE Data Science Methods Class
##
## Contains examples of:
##
## -Working with Distributions
##
## -Visually/Numerically Exploring data
##
##--------------------------------------------
##-----Exploring data Visually----
# Bernoulli (Binomial with n = 1)
p = 0.75
n = 1000
bern_samples = rbinom(n, 1, p)
bern_sample_mean = sum(bern_samples)/length(bern_samples)
bern_sample_var = bern_sample_mean * (1-bern_sample_mean)
bern_var = p*(1-p)
# Binomial
N = c(5, 25, 75)
binom_samples = lapply(N, function(x) rbinom(n, x, p))
binom_sample_means = lapply(binom_samples, mean)
binom_means = N*p
binom_sample_vars = lapply(binom_samples, var)
binom_vars = N*p*(1-p)
par(mfrow=c(2,2))
for (i in 1:3){
hist(binom_samples[[i]], main=paste(N[i],'Experiments'), freq=FALSE)
x_norm = seq(0,N[i], by = 0.025)
y_norm = dnorm(x_norm, mean=binom_means[i], sd=sqrt(binom_vars[i]))
lines(x_norm, y_norm)
}
setwd("/Users/voitel/TRAINING/UW_Data_Science/UW_Data_Science_350/Week3")
#----------------------------------------------
#
# Data Science 350
# Aleksey Kramer
# Homework - Week 3
#
#----------------------------------------------
# Create doors.  0 means goat, 1 means prise
doors <- c(0,0,0)
# Set the number of simulations (n)
n = 100000
# Simulation for no switching
before_no_switches <- Sys.time()
no_switches = sapply(1:n, function(x) {
# Set location of the prise behind one of the doors (randomly)
prise <- sample(1:3, 1)
doors[prise] <- 1
# Select a random answer to stay with (no switching doors)
attempt <- sample(1:3, 1)
stay <- doors[attempt] == 1
# Reset the doors to initial conditions
doors[prise] <- 0
# Return TRUE/FALSE converted to numbers
return(stay + 0)
})
after_no_switches <- Sys.time()
# Accumulating results from running no_switches simulation
probability_of_wins_if_not_switched <- length(no_switches[no_switches == 1]) / n
variance_if_not_switched <- var(no_switches)
time_to_run_not_switched <- after_no_switches - before_no_switches
# Simulation for switching
before_switches <- Sys.time()
switches = sapply(1:n, function(x) {
# Set location of the prise behind one of the doors (randomly)
prise <- sample(1:3, 1)
doors[prise] <- 1
# Select a random answer to switch from later
initial_attempt <- sample(1:3, 1)
# Host opens a door with no prise
host_door <- sample(1:3, 1)
if(initial_attempt == host_door) {
repeat {
host_door <- sample(1:3, 1)
if(initial_attempt != host_door) {
if(doors[host_door] == 0)
break
}
}
} else if(doors[host_door] != 0) {
repeat {
host_door <- sample(1:3, 1)
if(initial_attempt != host_door) {
if(doors[host_door] == 0)
break
}
}
}
# Find the switch door
repeat {
switch_guess <- sample(1:3, 1)
if(switch_guess != initial_attempt) {
if(switch_guess != host_door) {
break
}
}
}
# Test if the guess is correct and the prise is won
result <- doors[switch_guess] == 1
# Reset the doors to initial conditions
doors[prise] <- 0
# Return TRUE/FALSE converted to numbers
return(result + 0)
})
after_switches <- Sys.time()
# Accumulating results for running switches simulation
probability_of_wins_if_switched <- length(switches[switches == 1]) / n
variance_if_switched <- var(switches)
time_to_run_switches <- after_switches - before_switches
# Printing out results
print(paste("Probability of winning if not switched is:", probability_of_wins_if_not_switched))
print(paste("Variance of winning if not switched is:", variance_if_not_switched))
print(paste("Time to run not switched:", time_to_run_not_switched))
print("")
print(paste("Probability of winning if switched is:", probability_of_wins_if_switched))
print(paste("Variance of winning if switched is:", variance_if_switched))
print(paste("Time to run switches:", time_to_run_switches))
#----------------------------------------------
#
# Data Science 350
# Aleksey Kramer
# Homework - Week 3
#
#----------------------------------------------
# Create doors.  0 means goat, 1 means prise
doors <- c(0,0,0)
# Set the number of simulations (n)
n = 100000
# Simulation for no switching
before_no_switches <- Sys.time()
no_switches = sapply(1:n, function(x) {
# Set location of the prise behind one of the doors (randomly)
prise <- sample(1:3, 1)
doors[prise] <- 1
# Select a random answer to stay with (no switching doors)
attempt <- sample(1:3, 1)
stay <- doors[attempt] == 1
# Reset the doors to initial conditions
doors[prise] <- 0
# Return TRUE/FALSE converted to numbers
return(stay + 0)
})
after_no_switches <- Sys.time()
# Accumulating results from running no_switches simulation
probability_of_wins_if_not_switched <- length(no_switches[no_switches == 1]) / n
variance_if_not_switched <- var(no_switches)
time_to_run_not_switched <- after_no_switches - before_no_switches
# Simulation for switching
before_switches <- Sys.time()
switches = sapply(1:n, function(x) {
# Set location of the prise behind one of the doors (randomly)
prise <- sample(1:3, 1)
doors[prise] <- 1
# Select a random answer to switch from later
initial_attempt <- sample(1:3, 1)
# Host opens a door with no prise
host_door <- sample(1:3, 1)
if(initial_attempt == host_door) {
repeat {
host_door <- sample(1:3, 1)
if(initial_attempt != host_door) {
if(doors[host_door] == 0)
break
}
}
} else if(doors[host_door] != 0) {
repeat {
host_door <- sample(1:3, 1)
if(initial_attempt != host_door) {
if(doors[host_door] == 0)
break
}
}
}
# Find the switch door
repeat {
switch_guess <- sample(1:3, 1)
if(switch_guess != initial_attempt) {
if(switch_guess != host_door) {
break
}
}
}
# Test if the guess is correct and the prise is won
result <- doors[switch_guess] == 1
# Reset the doors to initial conditions
doors[prise] <- 0
# Return TRUE/FALSE converted to numbers
return(result + 0)
})
after_switches <- Sys.time()
# Accumulating results for running switches simulation
probability_of_wins_if_switched <- length(switches[switches == 1]) / n
variance_if_switched <- var(switches)
time_to_run_switches <- after_switches - before_switches
# Printing out results
print(paste("Probability of winning if not switched is:", probability_of_wins_if_not_switched))
print(paste("Variance of winning if not switched is:", variance_if_not_switched))
print(paste("Time to run not switched:", time_to_run_not_switched))
print("")
print(paste("Probability of winning if switched is:", probability_of_wins_if_switched))
print(paste("Variance of winning if switched is:", variance_if_switched))
print(paste("Time to run switches:", time_to_run_switches))
